<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>До конца рабства</title>
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: linear-gradient(to right, #74ebd5, #ACB6E5);
      font-family: Arial, sans-serif;
      color: white;
      text-align: center;
    }

    .card {
      background: rgba(0,0,0,0.3); /* полупрозрачная рамка */
      padding: 40px 60px;
      border-radius: 24px;
      box-shadow: 0 0 25px rgba(0,0,0,0.4);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .photo {
      width: 250px;
      height: 250px;
      border-radius: 16px;
      object-fit: cover;
      border: 4px solid rgba(255,255,255,0.4);
    }

    .title {
      margin-top: 25px;
      font-size: 48px;
      font-weight: bold;
    }

    .timer {
      margin-top: 35px;
      font-size: 56px;
      font-weight: bold;
    }

    .sticker {
      margin-top: 40px;
      width: 150px;
      height: auto;
      animation: flap 1s infinite ease-in-out;
      transform-origin: center;
    }

    @keyframes flap {
      0%   { transform: rotate(0deg) scale(1); }
      25%  { transform: rotate(-5deg) scale(1.05); }
      50%  { transform: rotate(0deg) scale(1); }
      75%  { transform: rotate(5deg) scale(1.05); }
      100% { transform: rotate(0deg) scale(1); }
    }
  </style>
</head>
<body>
  <div class="card">
    <img src="Nazar.png" alt="Фото" class="photo">
    <div class="title">До конца рабства</div>
    <div class="timer" id="timer">Загрузка...</div>
    <img src="pigeon.png" alt="Голубь" class="sticker">
  </div>

  <script>
    function getRemainingWorkTime() {
      let now = new Date();
      let endOfMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0, 23, 59, 59);
      let remainingMs = 0;

      for (let d = new Date(now); d <= endOfMonth; d.setDate(d.getDate() + 1)) {
        let day = d.getDay(); // 0 = вс, 6 = сб
        if (day >= 1 && day <= 5) {
          let start = new Date(d);
          start.setHours(9,0,0,0);
          let end = new Date(d);
          end.setHours(17,0,0,0);

          if (d.toDateString() === now.toDateString()) {
            if (now < start) {
              remainingMs += 8 * 3600 * 1000;
            } else if (now < end) {
              remainingMs += end - now;
            }
          } else {
            remainingMs += 8 * 3600 * 1000;
          }
        }
      }
      return remainingMs;
    }

    function updateTimer() {
      let ms = getRemainingWorkTime();
      let sec = Math.floor(ms / 1000);
      let days = Math.floor(sec / (3600*8));
      sec %= (3600*8);
      let hours = Math.floor(sec / 3600);
      sec %= 3600;
      let minutes = Math.floor(sec / 60);
      sec %= 60;
      document.getElementById("timer").textContent =
        `${days}д ${hours}ч ${minutes}м ${sec}с`;
    }

    setInterval(updateTimer, 1000);
    updateTimer();
  </script>
</body>
</html>
